/*!
 * Remixin
 * (c) SoundCloud 2015
 * Remixin may be freely distributed under the MIT license.
 */
!function(n){var t,e=this,r=n;t=e.Remixin,e.Remixin=r,r.noConflict=function(){return e.Remixin=t,r}}(function(n){function t(){this.mixins=n.initial(arguments),this.properties=n.last(arguments)}function e(n,t){this.applyTo=function(e){n.applyTo(e,t)}}function r(t,e){return null==t?e.slice():(n.isArray(t)||(t=[t]),i(t,e))}function i(t,e){return Array.prototype.push.apply(t,n.difference(e,t)),t}function o(n,t){return null==n?t:r(n.split(/\s+/),t.split(/\s+/)).join(" ")}function u(t,e){return n.defaults(t||{},e)}var a=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"];return n.extend(t.prototype,{mixins:null,properties:null,applyTo:function(t,e){var r=this.properties;this.defaults(t,r.defaults),this.extend(t,r),this.merge(t,r.merge),n.invoke(this.mixins,"applyTo",t),["requires","requirePrototype","override","before","after","around"].forEach(function(n){this[n](t,r[n])},this),r.applyTo&&r.applyTo.call(this,t,e)},withOptions:function(n){return new e(this,n)},before:function(t,e){n.each(e,function(n,e){var r=t[e];t[e]=function(){return n.apply(this,arguments),r.apply(this,arguments)}})},after:function(t,e){n.each(e,function(n,e){var r=t[e];t[e]=function(){var t=r.apply(this,arguments);return n.apply(this,arguments),t}})},around:function(t,e){n.each(e,function(n,e){var r=t[e];t[e]=function(){for(var t=0,e=arguments.length,i=Array(e+1);e>t;++t)i[t+1]=arguments[t];return i[0]=r.bind(this),n.apply(this,i)}})},override:function(t,e){n.extend(t,e)},defaults:function(t,e){n.defaults(t,e)},merge:function(t,e){n.each(e,function(e,i){if(null!=e){var a=t[i];t[i]=n.isArray(e)?r(a,e):n.isString(e)?o(a,e):u(a,e)}})},extend:function(t,e){n.each(e,function(n,e){a.indexOf(e)<0&&(t[e]=n)})},requires:function(n,t){},requirePrototype:function(n,t){}}),e.prototype=t.prototype,t});