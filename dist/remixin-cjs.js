/*!
 * Remixin v1.0.1
 * (c) SoundCloud 2015
 * Remixin may be freely distributed under the MIT license.
 */
!function(t){var n=t(require("underscore"));module.exports=n}(function(t){function n(){this.mixins=t.initial(arguments),this.properties=t.last(arguments)}function r(t,n){this.applyTo=function(r){t.applyTo(r,n)}}function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2]);case 4:return t.call(n,r[0],r[1],r[2],r[3]);default:return t.apply(n,r)}}function i(t,n){return null==t?n.slice():o(c(t),n)}function o(n,r){return n.concat(t.difference(r,n))}function u(t,n){return null==t?n:i(s(t),s(n)).join(" ")}function a(n,r){return t.extend({},r,n)}function s(n){return t.compact(n.split(l))}function c(n){return t.isArray(n)?n:[n]}var f=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],l=/\s+/;return t.extend(n.prototype,{applyTo:function(n,r){var e=this.properties;this.defaults(n,e.defaults),this.extend(n,e),this.merge(n,e.merge),t.invoke(this.mixins,"applyTo",n),["requires","requirePrototype","override","before","after","around"].forEach(function(t){this[t](n,e[t])},this),e.applyTo&&e.applyTo.call(this,n,r)},withOptions:function(t){return new r(this,t)},before:function(n,r){t.each(r,function(t,r){var i=n[r];n[r]=function(){for(var n=Array(arguments.length),r=0;r<arguments.length;++r)n[r]=arguments[r];return e(t,this,n),e(i,this,n)}})},after:function(n,r){t.each(r,function(t,r){var i=n[r];n[r]=function(){for(var n=Array(arguments.length),r=0;r<arguments.length;++r)n[r]=arguments[r];var o=e(i,this,n);return e(t,this,n),o}})},around:function(n,r){t.each(r,function(t,r){var i=n[r];n[r]=function(){var n=0,r=arguments.length,o=Array(r+1);for(o[0]=i.bind(this);r>n;++n)o[n+1]=arguments[n];return e(t,this,o)}})},override:function(n,r){t.extend(n,r)},defaults:function(n,r){t.each(r,function(t,r){n.hasOwnProperty(r)||(n[r]=t)})},merge:function(n,r){t.each(r,function(r,e){if(null!=r){var o=n[e];n[e]=t.isArray(r)?i(o,r):t.isString(r)?u(o,r):a(o,r)}})},extend:function(n,r){var e=t.omit(r,f);t.extend(n,e)},requires:t.noop,requirePrototype:t.noop}),r.prototype=n.prototype,n});